<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Mémorial Phil</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/index.css">

    <link rel="apple-touch-icon" sizes="180x180" href="./images/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./images/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./images/icon/favicon-16x16.png">
    <link rel="manifest" href="./images/icon/site.webmanifest">
</head>

<body>
    <header>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3vw;">
            <h1 style="margin: 0;">Mémorial Phil</h1>
            <a href="my-ascents.html" id="profile-link">
                <img id="profile-image" src="images/profile/4.svg"
                    style="width: 12w; height: 12vw; border-radius: 0; cursor: pointer;" title="Mes ascensions">
            </a>
        </div>
        <input type="text" placeholder="Rechercher" id="searchbar">
        <div id="filter-grades">
            <button onclick="filterGrades(0)"><img src="images/grades/0.png"></button>
            <button onclick="filterGrades(1)"><img src="images/grades/1.png"></button>
            <button onclick="filterGrades(2)"><img src="images/grades/2.png"></button>
            <button onclick="filterGrades(3)"><img src="images/grades/3.png"></button>
            <button onclick="filterGrades(4)"><img src="images/grades/4.png"></button>
            <button onclick="filterGrades(5)"><img src="images/grades/5.png"></button>
            <button onclick="filterGrades(6)"><img src="images/grades/6.png"></button>
            <button onclick="filterGrades(7)"><img src="images/grades/7.png"></button>
            <button onclick="filterGrades(8)"><img src="images/grades/8.png"></button>
            <button onclick="filterGrades(9)"><img src="images/grades/9.png"></button>
        </div>
    </header>
    <main>
        <div id="boulders"></div>
    </main>
    <footer>
        <a id="new-boulder" href="new-boulder.html"><img src="images/newBoulder.png"></a>
    </footer>
    <script src="js/functions.js"></script>
    <script src="js/my-ascents.js" type="module"></script>
    <script src="js/home-page.js"></script>
    <script src="js/firebase.js" type="module"></script>
    <script>
        // Profile image functionality is now in functions.js

        // Listen for boulders loaded event
        document.addEventListener('boulders-loaded', (e) => {
            updateProfileImage(e.detail);
        });

        // Listen for ascents loaded event to update profile
        document.addEventListener('ascents-loaded', () => {
            if (window.boulders) {
                updateProfileImage(window.boulders);
            }
        });
    </script>
</body>

</html>